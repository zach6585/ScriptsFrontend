{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/componentlist.js\";\nimport { Component } from 'react';\nimport ContentEditable from 'react-contenteditable';\nimport axios from 'axios';\nimport larrow from \"../pictures/larrow.png\";\nimport rarrow from \"../pictures/rarrow.png\";\nimport './dummy.css';\nimport '../allScripts.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ScriptDummyList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      button_use: {\n        button_back: false,\n        button_forward: true\n      },\n      pagePos: 1,\n      submitButton: null,\n      scriptID: '',\n      allPages: {},\n      allTexts: {},\n      dataIsLoaded: false,\n      currComponent: null\n    };\n\n    this.handlePageButtonClick = letter => {\n      //This determines which button was pressed\n      if (letter === 'b') {\n        this.setState(prevState => ({\n          pagePos: prevState.pagePos - 1,\n          currComponent: /*#__PURE__*/_jsxDEV(ThingsRendered, {\n            script: this.state.allPages.find(element => {\n              return element.page_number === (prevState.pagePos - 1).toString();\n            }).content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 28\n          }, this)\n        }));\n      } else {\n        this.setState(prevState => ({\n          pagePos: prevState.pagePos + 1,\n          currComponent: /*#__PURE__*/_jsxDEV(ThingsRendered, {\n            script: this.state.allPages.find(element => {\n              return element.page_number === (prevState.pagePos + 1).toString();\n            }).content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 26\n          }, this)\n        }));\n      }\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      allPages: this.props.scripts,\n      allTexts: this.props.texts,\n      dataIsLoaded: true,\n      currComponent: /*#__PURE__*/_jsxDEV(ThingsRendered, {\n        individual_script_that_will_be_rendered: this.props.scripts.find(script => {\n          return script.page_number === \"1\";\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 115\n      }, this)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.dataIsLoaded ? this.state.currComponent : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"buttonDiv\",\n        children: [this.state.pagePos === 1 ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"left arrow back\",\n          src: larrow,\n          onClick: () => this.handlePageButtonClick('b'),\n          className: \"left arrow button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 49\n        }, this), this.state.pagePos === 2 ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"right arrow forward\",\n          src: rarrow,\n          onClick: () => this.handlePageButtonClick('f'),\n          className: \"right arrow button\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"page_num\",\n        children: this.state.pagePos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nclass ThingsRendered extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      content: '',\n      submitButton: null,\n      scriptID: ''\n    };\n\n    this.handleContentEditableClick = event => {\n      if (this.state.submitButton === null) {\n        this.setState({\n          submitButton: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: event => this.handleSubmit(event),\n            className: \"website_change_submit_button\",\n            children: \"Submit Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 38\n          }, this)\n        });\n      }\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state.scriptID);\n      axios.patch(`http://localhost:3001/scripts/${this.state.scriptID}`, {\n        content: this.state.content\n      });\n      this.setState({\n        submitButton: null\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        content: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      content: this.props.individual_script_that_will_be_rendered.content,\n      scriptID: this.props.individual_script_that_will_be_rendered.id\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ContentEditable, {\n        onClick: event => this.handleContentEditableClick(event),\n        onChange: event => this.handleChange(event),\n        html: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), this.state.submitButton]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ScriptDummyList;","map":{"version":3,"sources":["/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/componentlist.js"],"names":["Component","ContentEditable","axios","larrow","rarrow","ScriptDummyList","state","button_use","button_back","button_forward","pagePos","submitButton","scriptID","allPages","allTexts","dataIsLoaded","currComponent","handlePageButtonClick","letter","setState","prevState","find","element","page_number","toString","content","componentDidMount","props","scripts","texts","script","render","ThingsRendered","handleContentEditableClick","event","handleSubmit","preventDefault","console","log","patch","handleChange","target","value","individual_script_that_will_be_rendered","id"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport ContentEditable from 'react-contenteditable';\r\nimport axios from 'axios';\r\n\r\nimport larrow from \"../pictures/larrow.png\";\r\nimport rarrow from \"../pictures/rarrow.png\";\r\nimport './dummy.css';\r\nimport '../allScripts.css';\r\n\r\n\r\n\r\nclass ScriptDummyList extends Component {\r\n\r\n    state = {\r\n        button_use: {button_back: false, button_forward: true}, \r\n    pagePos: 1,\r\n    submitButton: null,\r\n    scriptID: '', allPages: {}, allTexts: {}, dataIsLoaded: false, currComponent: null } \r\n    \r\n    async componentDidMount() {\r\n      this.setState({allPages: this.props.scripts, allTexts: this.props.texts, dataIsLoaded: true, currComponent: <ThingsRendered individual_script_that_will_be_rendered={this.props.scripts.find(script => {return script.page_number === \"1\"})} />} ) \r\n      \r\n    }\r\n\r\n\r\n    \r\n    handlePageButtonClick = (letter) => {//This determines which button was pressed\r\n      if (letter === 'b'){\r\n        this.setState((prevState) => ({pagePos: prevState.pagePos - 1, \r\n            currComponent: <ThingsRendered script={this.state.allPages.find(element => {\r\n                return element.page_number === (prevState.pagePos-1).toString();\r\n            }).content} /> }))\r\n      }\r\n      else {\r\n        this.setState((prevState) => ({pagePos: prevState.pagePos + 1, \r\n          currComponent: <ThingsRendered script={this.state.allPages.find(element => {\r\n              return element.page_number === (prevState.pagePos+1).toString();\r\n          }).content} /> }))\r\n      }\r\n      \r\n      \r\n    }\r\n\r\n    render() {\r\n\r\n      return(\r\n        <div>\r\n          {this.state.dataIsLoaded ? this.state.currComponent : <h1>loading</h1>}\r\n            <div id=\"buttonDiv\">\r\n            {this.state.pagePos === 1 ? null :  <img alt=\"left arrow back\" src={larrow} onClick={() => this.handlePageButtonClick('b')} className=\"left arrow button\"/>}\r\n            {this.state.pagePos === 2 ? null :  <img alt=\"right arrow forward\" src={rarrow} onClick={() => this.handlePageButtonClick('f')} className=\"right arrow button\"/>}\r\n            </div>\r\n            <h3 className=\"page_num\">{this.state.pagePos}</h3>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\nclass ThingsRendered extends Component{\r\n  state = {\r\n    content: '',\r\n    submitButton: null,\r\n    scriptID: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({content: this.props.individual_script_that_will_be_rendered.content, scriptID: this.props.individual_script_that_will_be_rendered.id})\r\n  }\r\n\r\n  handleContentEditableClick = (event) => {\r\n    if (this.state.submitButton === null){\r\n        this.setState({submitButton: <button onClick={event => this.handleSubmit(event)} className=\"website_change_submit_button\">Submit Changes</button>});\r\n    }\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(this.state.scriptID)\r\n    axios.patch(`http://localhost:3001/scripts/${this.state.scriptID}`, {content: this.state.content})\r\n    this.setState({submitButton: null })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({content: event.target.value})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n          <ContentEditable onClick={event => this.handleContentEditableClick(event)} onChange={event => this.handleChange(event)} html={this.state.content} />\r\n          {this.state.submitButton}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport default ScriptDummyList;\r\n"]},"metadata":{},"sourceType":"module"}