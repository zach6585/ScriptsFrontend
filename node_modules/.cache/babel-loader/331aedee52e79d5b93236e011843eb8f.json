{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/pages/generalpage.js\";\nimport { Component } from 'react';\nimport axios from 'axios';\nimport ContentEditable from 'react-contenteditable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass GeneralPageRenderer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      content: '',\n      submitButton: null,\n      scriptID: ''\n    };\n\n    this.handleClick = event => {\n      if (this.state.submitButton === null) {\n        this.setState({\n          submitButton: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: event => this.handleSubmit(event),\n            className: \"website_change_submit_button\",\n            children: \"Submit Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 42\n          }, this)\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        content: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(event.target); // axios.patch(`http://localhost:3001/scripts/${this.state.scriptID}`, {content: event.target.value})\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:3001/scripts\").then(res => {\n      const scripts = res.data;\n\n      for (const script of scripts) {\n        if (script.script === \"dummy\" && script.page_number === \"1\") {\n          this.setState({\n            content: script.content.replaceAll(\"\\\\\", \"\"),\n            scriptID: script.id\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ContentEditable, {\n        onClick: event => this.handleClick(event),\n        onChange: event => this.handleChange(event),\n        html: this.state.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), this.state.submitButton]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n\n} // const GeneralPageRenderer = (props) => {\n//     const [content, setContent] = useState('');\n// //   const [pageNum, setPageNumber] = useState('');\n// //   const [scriptNum, setScriptNum] = useState('');\n//     const [submitButton, setSubmitButton] = useState(null);\n//     const [scriptID, setScriptID] = useState('');\n//   const handleClick = (event) => {\n//       \n//   }\n//   const getSheets = () => {\n//       \n// }\n//   useEffect (() => {getSheets()})\n//   return (\n//       \n//   )\n// }\n\n\nexport default GeneralPageRenderer;","map":{"version":3,"sources":["/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/pages/generalpage.js"],"names":["Component","axios","ContentEditable","GeneralPageRenderer","state","content","submitButton","scriptID","handleClick","event","setState","handleSubmit","handleChange","target","value","preventDefault","console","log","componentDidMount","get","then","res","scripts","data","script","page_number","replaceAll","id","render"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,uBAA5B;;;AAIA,MAAMC,mBAAN,SAAkCH,SAAlC,CAA2C;AAAA;AAAA;AAAA,SACvCI,KADuC,GAC/B;AACJC,MAAAA,OAAO,EAAE,EADL;AAEJC,MAAAA,YAAY,EAAE,IAFV;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KAD+B;;AAAA,SAkBvCC,WAlBuC,GAkBxBC,KAAD,IAAW;AACrB,UAAI,KAAKL,KAAL,CAAWE,YAAX,KAA4B,IAAhC,EAAqC;AACjC,aAAKI,QAAL,CAAc;AAACJ,UAAAA,YAAY,eAAE;AAAQ,YAAA,OAAO,EAAEG,KAAK,IAAI,KAAKE,YAAL,CAAkBF,KAAlB,CAA1B;AAAoD,YAAA,SAAS,EAAC,8BAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,SAAd;AACH;AACJ,KAtBsC;;AAAA,SAwBvCG,YAxBuC,GAwBvBH,KAAD,IAAW;AACtB,WAAKC,QAAL,CAAc;AAACL,QAAAA,OAAO,EAAEI,KAAK,CAACI,MAAN,CAAaC;AAAvB,OAAd;AACH,KA1BsC;;AAAA,SA4BvCH,YA5BuC,GA4BvBF,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACI,MAAlB,EAFsB,CAGtB;AACH,KAhCsC;AAAA;;AAOvCK,EAAAA,iBAAiB,GAAG;AAChBjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,+BAAV,EACOC,IADP,CACYC,GAAG,IAAI;AACT,YAAMC,OAAO,GAAGD,GAAG,CAACE,IAApB;;AACA,WAAK,MAAMC,MAAX,IAAqBF,OAArB,EAA6B;AACzB,YAAIE,MAAM,CAACA,MAAP,KAAkB,OAAlB,IAA6BA,MAAM,CAACC,WAAP,KAAuB,GAAxD,EAA4D;AAC1D,eAAKf,QAAL,CAAc;AAACL,YAAAA,OAAO,EAAEmB,MAAM,CAACnB,OAAP,CAAeqB,UAAf,CAA0B,IAA1B,EAAgC,EAAhC,CAAV;AAA+CnB,YAAAA,QAAQ,EAAEiB,MAAM,CAACG;AAAhE,WAAd;AACD;AACJ;AACR,KARH;AASH;;AAiBDC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,8BACI,QAAC,eAAD;AAAiB,QAAA,OAAO,EAAEnB,KAAK,IAAI,KAAKD,WAAL,CAAiBC,KAAjB,CAAnC;AAA4D,QAAA,QAAQ,EAAEA,KAAK,IAAI,KAAKG,YAAL,CAAkBH,KAAlB,CAA/E;AAAyG,QAAA,IAAI,EAAE,KAAKL,KAAL,CAAWC;AAA1H;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,KAAKD,KAAL,CAAWE,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;;AAzCsC,C,CA2C3C;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;;;AAEA,eAAeH,mBAAf","sourcesContent":["import {Component} from 'react';\r\nimport axios from 'axios';\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\n\r\n\r\nclass GeneralPageRenderer extends Component{\r\n    state = {\r\n        content: '',\r\n        submitButton: null,\r\n        scriptID: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(\"http://localhost:3001/scripts\")\r\n              .then(res => {\r\n                  const scripts = res.data;\r\n                  for (const script of scripts){\r\n                      if (script.script === \"dummy\" && script.page_number === \"1\"){\r\n                        this.setState({content: script.content.replaceAll(\"\\\\\", \"\"), scriptID: script.id})\r\n                      }\r\n                  }\r\n          })\r\n    }\r\n    handleClick = (event) => {\r\n        if (this.state.submitButton === null){\r\n            this.setState({submitButton: <button onClick={event => this.handleSubmit(event)} className=\"website_change_submit_button\">Submit Changes</button>});\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({content: event.target.value})\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(event.target)\r\n        // axios.patch(`http://localhost:3001/scripts/${this.state.scriptID}`, {content: event.target.value})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <ContentEditable onClick={event => this.handleClick(event)} onChange={event => this.handleChange(event)} html={this.state.content} />\r\n                {this.state.submitButton}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n// const GeneralPageRenderer = (props) => {\r\n//     const [content, setContent] = useState('');\r\n// //   const [pageNum, setPageNumber] = useState('');\r\n// //   const [scriptNum, setScriptNum] = useState('');\r\n//     const [submitButton, setSubmitButton] = useState(null);\r\n//     const [scriptID, setScriptID] = useState('');\r\n\r\n//   const handleClick = (event) => {\r\n//       \r\n    \r\n//   }\r\n\r\n\r\n\r\n//   const getSheets = () => {\r\n//       \r\n// }\r\n\r\n//   useEffect (() => {getSheets()})\r\n  \r\n\r\n//   return (\r\n//       \r\n//   )\r\n// }\r\n\r\nexport default GeneralPageRenderer"]},"metadata":{},"sourceType":"module"}