{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/users/users.js\";\nimport { Component } from 'react';\nimport './users.css';\nimport Signup from './signup';\nimport Login from './login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Users extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      current_component_being_rendered: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 43\n      }, this),\n      current_component_name: 'login',\n      button_under_form_text: \"Don't have an account yet? Sign up here\",\n      user: null\n    };\n\n    this.componentDidMount = () => {\n      const token = localStorage.getItem(\"token\");\n\n      if (token) {\n        fetch(`http://localhost:3000/auto_login`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }).then(resp => resp.json()).then(data => {\n          this.setState({\n            user: data.user\n          }); // console.log(data)\n        });\n      }\n    };\n\n    this.handleClick = event => {\n      console.log('here');\n      event.preventDefault();\n\n      if (this.state.current_component_name === \"login\") {\n        this.setState({\n          current_component_being_rendered: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 51\n          }, this),\n          current_component_name: 'signup',\n          button_under_form_text: \"Already have an account? Log in here\"\n        });\n      } else if (this.state.current_component_name === \"signup\") {\n        this.setState({\n          current_component_being_rendered: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 51\n          }, this),\n          current_component_name: 'login',\n          button_under_form_text: \"Don't have an account yet? Sign up here\"\n        });\n      }\n\n      console.log(this.state);\n    };\n\n    this.handleLogin = user => {\n      this.setState({\n        user: user\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.current_component_being_rendered, /*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"fake_link_text\",\n        onClick: event => this.handleClick(event),\n        children: this.state.button_under_form_text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/users/users.js"],"names":["Component","Signup","Login","Users","state","current_component_being_rendered","current_component_name","button_under_form_text","user","componentDidMount","token","localStorage","getItem","fetch","headers","Authorization","then","resp","json","data","setState","handleClick","event","console","log","preventDefault","handleLogin","render"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAO,aAAP;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;;AAEA,MAAMC,KAAN,SAAoBH,SAApB,CAA6B;AAAA;AAAA;AAAA,SAEzBI,KAFyB,GAEjB;AACJC,MAAAA,gCAAgC,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,cAD9B;AAEJC,MAAAA,sBAAsB,EAAE,OAFpB;AAGJC,MAAAA,sBAAsB,EAAE,yCAHpB;AAIJC,MAAAA,IAAI,EAAE;AAJF,KAFiB;;AAAA,SASzBC,iBATyB,GASL,MAAM;AAC1B,YAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,UAAGF,KAAH,EAAS;AACPG,QAAAA,KAAK,CAAE,kCAAF,EAAqC;AACxCC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EAAG,UAASL,KAAM;AADxB;AAD+B,SAArC,CAAL,CAKCM,IALD,CAKMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EALd,EAMCF,IAND,CAMMG,IAAI,IAAI;AACZ,eAAKC,QAAL,CAAc;AAACZ,YAAAA,IAAI,EAAEW,IAAI,CAACX;AAAZ,WAAd,EADY,CAEZ;AACC,SATH;AAUG;AACJ,KAvBwB;;AAAA,SAyBzBa,WAzByB,GAyBVC,KAAD,IAAW;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAF,MAAAA,KAAK,CAACG,cAAN;;AACA,UAAI,KAAKrB,KAAL,CAAWE,sBAAX,KAAsC,OAA1C,EAAkD;AAC9C,aAAKc,QAAL,CAAc;AACVf,UAAAA,gCAAgC,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBADxB;AAEVC,UAAAA,sBAAsB,EAAE,QAFd;AAGVC,UAAAA,sBAAsB,EAAE;AAHd,SAAd;AAKH,OAND,MAOK,IAAI,KAAKH,KAAL,CAAWE,sBAAX,KAAsC,QAA1C,EAAmD;AACpD,aAAKc,QAAL,CAAc;AACVf,UAAAA,gCAAgC,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBADxB;AAEVC,UAAAA,sBAAsB,EAAE,OAFd;AAGVC,UAAAA,sBAAsB,EAAE;AAHd,SAAd;AAKH;;AACDgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAjB;AACH,KA3CwB;;AAAA,SA6CzBsB,WA7CyB,GA6CVlB,IAAD,IAAU;AACpB,WAAKY,QAAL,CAAc;AAACZ,QAAAA,IAAI,EAAEA;AAAP,OAAd;AACH,KA/CwB;AAAA;;AAiDzBmB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,iBACK,KAAKvB,KAAL,CAAWC,gCADhB,eAEI;AAAI,QAAA,EAAE,EAAC,gBAAP;AAAwB,QAAA,OAAO,EAAEiB,KAAK,IAAI,KAAKD,WAAL,CAAiBC,KAAjB,CAA1C;AAAA,kBAAoE,KAAKlB,KAAL,CAAWG;AAA/E;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;;AAxDwB;;AA2D7B,eAAeJ,KAAf","sourcesContent":["import {Component} from 'react';\r\nimport './users.css';\r\n\r\nimport Signup from './signup';\r\nimport Login from './login';\r\n\r\nclass Users extends Component{\r\n\r\n    state = {\r\n        current_component_being_rendered: <Login />, \r\n        current_component_name: 'login',\r\n        button_under_form_text: \"Don't have an account yet? Sign up here\",\r\n        user: null\r\n    }\r\n\r\n    componentDidMount = () => {\r\n    const token = localStorage.getItem(\"token\")\r\n    if(token){\r\n      fetch(`http://localhost:3000/auto_login`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        this.setState({user: data.user})\r\n        // console.log(data)\r\n        })\r\n        }\r\n    }\r\n    \r\n    handleClick = (event) => {\r\n        console.log('here')\r\n        event.preventDefault()\r\n        if (this.state.current_component_name === \"login\"){\r\n            this.setState({\r\n                current_component_being_rendered: <Signup />,\r\n                current_component_name: 'signup',\r\n                button_under_form_text: \"Already have an account? Log in here\"\r\n            })\r\n        }\r\n        else if (this.state.current_component_name === \"signup\"){\r\n            this.setState({\r\n                current_component_being_rendered: <Login />,\r\n                current_component_name: 'login',\r\n                button_under_form_text: \"Don't have an account yet? Sign up here\"\r\n            })\r\n        }\r\n        console.log(this.state)\r\n    }\r\n\r\n    handleLogin = (user) => {\r\n        this.setState({user: user})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                {this.state.current_component_being_rendered}\r\n                <h3 id=\"fake_link_text\" onClick={event => this.handleClick(event)}>{this.state.button_under_form_text}</h3>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Users;"]},"metadata":{},"sourceType":"module"}