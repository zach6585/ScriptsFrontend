{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/pages/generalpage.js\";\nimport { Component } from 'react';\nimport ContentEditable from 'react-contenteditable';\nimport { connect } from 'react-redux';\nimport { submitButtonClicked } from '../../../../actions/pages/submitClicked';\nimport { postOrPatchTexts } from '../../../../actions/text/textChangeAxiosCallAction';\nimport '../../allScripts.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass GeneralPageRenderer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      page: null,\n      page_content: null,\n      submitButton: null,\n      pageNum: 1\n    };\n\n    this.handleContentClicked = event => {\n      this.setState({\n        submitButton: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: event => this.handleContentEditedSubmit(event),\n          className: \"website_change_submit_button\",\n          children: \"Submit Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 38\n        }, this)\n      });\n    };\n\n    this.handleContentEditedSubmit = event => {\n      event.preventDefault();\n      this.props.submitButtonClicked({\n        page: this.state.page,\n        content: this.state.page_content\n      });\n      this.setState({\n        submitButton: null\n      });\n    };\n\n    this.handleChangeInContentEditable = event => {\n      this.setState({\n        page_content: event.target.value\n      });\n    };\n\n    this.getValue = id => {\n      //Gets the value of the textbox.\n      for (const i in this.state.text) {\n        if (this.state.text[i].id_tag === id) {\n          return this.state.text[i].value;\n        }\n      }\n\n      return \"\";\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props); //For now, this is set. In the future, we will need to convey some way to suggest that something is changing and thus we will need to \n    //Account for that by way of a reducer/action\n\n    const pageData = this.props.pages.find(page_data => {\n      return page_data.page_number === this.state.pageNum.toString();\n    });\n    console.log(pageData);\n    this.setState({\n      page: pageData,\n      page_content: pageData.content\n    });\n  }\n\n  render() {\n    if (this.state.content === null) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ContentEditable, {\n          onClick: event => this.handleContentClicked(),\n          onChange: event => this.handleChangeInContentEditable(event),\n          html: this.state.page_content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), this.state.submitButton]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submitButtonClicked: page_details => dispatch(submitButtonClicked(page_details)),\n    postOrPatchTexts: texts_details => dispatch(postOrPatchTexts(texts_details))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(GeneralPageRenderer);\n/* \r\nNotes for this page: Need to make it so that textboxes are ignored for the content editable thing since we need those to be entered.\r\nI can ask Ariel next time I see her which one of my two ideas (which are coming after this) she wants:\r\n1) I pass an argument in to the handleContentClicked function that determines the type of the element so it doesn't proc when on certain things or\r\n2) I make a menu in the top left (Honestly I think ultimately this is what I want since the whole flow would make more sense this way) that\r\ngives the option to make changes so that it isn't just the second you click anywhere\r\n\r\n- If I choose number 2 (which I think I will), I will make it so that there's an if else in the render that determines if it's\r\ncontent editable or not\r\n*/","map":{"version":3,"sources":["/mnt/c/Users/moust/Documents/Scripts/frontend/src/components/scripts/dummy script/pages/generalpage.js"],"names":["Component","ContentEditable","connect","submitButtonClicked","postOrPatchTexts","GeneralPageRenderer","state","page","page_content","submitButton","pageNum","handleContentClicked","event","setState","handleContentEditedSubmit","preventDefault","props","content","handleChangeInContentEditable","target","value","getValue","id","i","text","id_tag","componentDidMount","console","log","pageData","pages","find","page_data","page_number","toString","render","mapDispatchToProps","dispatch","page_details","texts_details"],"mappings":";AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AAEA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,mBAAT,QAAoC,yCAApC;AACA,SAASC,gBAAT,QAAiC,oDAAjC;AACA,OAAO,sBAAP;;;AAGA,MAAMC,mBAAN,SAAkCL,SAAlC,CAA2C;AAAA;AAAA;AAAA,SAEvCM,KAFuC,GAE/B;AACJC,MAAAA,IAAI,EAAE,IADF;AAEJC,MAAAA,YAAY,EAAE,IAFV;AAGJC,MAAAA,YAAY,EAAE,IAHV;AAIJC,MAAAA,OAAO,EAAE;AAJL,KAF+B;;AAAA,SAiBvCC,oBAjBuC,GAiBfC,KAAD,IAAW;AAC9B,WAAKC,QAAL,CAAc;AAACJ,QAAAA,YAAY,eAAE;AAAQ,UAAA,OAAO,EAAEG,KAAK,IAAI,KAAKE,yBAAL,CAA+BF,KAA/B,CAA1B;AAAiE,UAAA,SAAS,EAAC,8BAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAf,OAAd;AACH,KAnBsC;;AAAA,SAqBvCE,yBArBuC,GAqBVF,KAAD,IAAW;AACnCA,MAAAA,KAAK,CAACG,cAAN;AACA,WAAKC,KAAL,CAAWb,mBAAX,CAA+B;AAACI,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAlB;AAAwBU,QAAAA,OAAO,EAAE,KAAKX,KAAL,CAAWE;AAA5C,OAA/B;AACA,WAAKK,QAAL,CAAc;AAACJ,QAAAA,YAAY,EAAE;AAAf,OAAd;AACH,KAzBsC;;AAAA,SA0BvCS,6BA1BuC,GA0BNN,KAAD,IAAW;AACvC,WAAKC,QAAL,CAAc;AAACL,QAAAA,YAAY,EAAEI,KAAK,CAACO,MAAN,CAAaC;AAA5B,OAAd;AACH,KA5BsC;;AAAA,SA8BvCC,QA9BuC,GA8B3BC,EAAD,IAAQ;AACf;AACA,WAAK,MAAMC,CAAX,IAAgB,KAAKjB,KAAL,CAAWkB,IAA3B,EAAgC;AAC5B,YAAI,KAAKlB,KAAL,CAAWkB,IAAX,CAAgBD,CAAhB,EAAmBE,MAAnB,KAA8BH,EAAlC,EAAqC;AACjC,iBAAO,KAAKhB,KAAL,CAAWkB,IAAX,CAAgBD,CAAhB,EAAmBH,KAA1B;AACH;AACJ;;AACD,aAAO,EAAP;AACH,KAtCsC;AAAA;;AAQvCM,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAjB,EADe,CAEf;AACA;;AACA,UAAMa,QAAQ,GAAG,KAAKb,KAAL,CAAWc,KAAX,CAAiBC,IAAjB,CAAsBC,SAAS,IAAI;AAAC,aAAOA,SAAS,CAACC,WAAV,KAA0B,KAAK3B,KAAL,CAAWI,OAAX,CAAmBwB,QAAnB,EAAjC;AAA+D,KAAnG,CAAjB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACA,SAAKhB,QAAL,CAAc;AAACN,MAAAA,IAAI,EAAEsB,QAAP;AAAiBrB,MAAAA,YAAY,EAAEqB,QAAQ,CAACZ;AAAxC,KAAd;AACH;;AAyBDkB,EAAAA,MAAM,GAAE;AACJ,QAAI,KAAK7B,KAAL,CAAWW,OAAX,KAAuB,IAA3B,EAAgC;AAC5B,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAGH,KAJD,MAKI;AACJ,0BACI;AAAA,gCACI,QAAC,eAAD;AAAiB,UAAA,OAAO,EAAEL,KAAK,IAAI,KAAKD,oBAAL,EAAnC;AAAgE,UAAA,QAAQ,EAAEC,KAAK,IAAI,KAAKM,6BAAL,CAAmCN,KAAnC,CAAnF;AAA8H,UAAA,IAAI,EAAE,KAAKN,KAAL,CAAWE;AAA/I;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEK,KAAKF,KAAL,CAAWG,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAMC;AACJ;;AAtDsC;;AAyD3C,MAAM2B,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAM;AACFlC,IAAAA,mBAAmB,EAAGmC,YAAD,IAAkBD,QAAQ,CAAClC,mBAAmB,CAACmC,YAAD,CAApB,CAD7C;AAEFlC,IAAAA,gBAAgB,EAAGmC,aAAD,IAAmBF,QAAQ,CAACjC,gBAAgB,CAACmC,aAAD,CAAjB;AAF3C,GAAN;AAIH,CALD;;AASA,eAAerC,OAAO,CAAC,IAAD,EAAOkC,kBAAP,CAAP,CAAkC/B,mBAAlC,CAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {Component} from 'react';\r\nimport ContentEditable from 'react-contenteditable';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { submitButtonClicked } from '../../../../actions/pages/submitClicked';\r\nimport { postOrPatchTexts } from '../../../../actions/text/textChangeAxiosCallAction';\r\nimport '../../allScripts.css';\r\n\r\n\r\nclass GeneralPageRenderer extends Component{\r\n    \r\n    state = {\r\n        page: null,\r\n        page_content: null,\r\n        submitButton: null,\r\n        pageNum: 1\r\n    }\r\n    componentDidMount(){\r\n        console.log(this.props)\r\n        //For now, this is set. In the future, we will need to convey some way to suggest that something is changing and thus we will need to \r\n        //Account for that by way of a reducer/action\r\n        const pageData = this.props.pages.find(page_data => {return page_data.page_number === this.state.pageNum.toString()})\r\n        console.log(pageData);\r\n        this.setState({page: pageData, page_content: pageData.content})\r\n    }\r\n\r\n    handleContentClicked = (event) => {\r\n        this.setState({submitButton: <button onClick={event => this.handleContentEditedSubmit(event)} className=\"website_change_submit_button\">Submit Changes</button>})\r\n    }\r\n\r\n    handleContentEditedSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.props.submitButtonClicked({page: this.state.page, content: this.state.page_content});\r\n        this.setState({submitButton: null})\r\n    }\r\n    handleChangeInContentEditable = (event) => {\r\n        this.setState({page_content: event.target.value})\r\n    }\r\n\r\n    getValue = (id) => {\r\n        //Gets the value of the textbox.\r\n        for (const i in this.state.text){\r\n            if (this.state.text[i].id_tag === id){\r\n                return this.state.text[i].value;\r\n            }\r\n        }\r\n        return \"\"\r\n    }\r\n\r\n    render(){\r\n        if (this.state.content === null){\r\n            return(\r\n                <h1>Loading</h1>\r\n            )\r\n        }\r\n        else{\r\n        return(\r\n            <div>\r\n                <ContentEditable onClick={event => this.handleContentClicked()} onChange={event => this.handleChangeInContentEditable(event)} html={this.state.page_content} />\r\n                {this.state.submitButton}\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        submitButtonClicked: (page_details) => dispatch(submitButtonClicked(page_details)),\r\n        postOrPatchTexts: (texts_details) => dispatch(postOrPatchTexts(texts_details))\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(GeneralPageRenderer);\r\n\r\n/* \r\nNotes for this page: Need to make it so that textboxes are ignored for the content editable thing since we need those to be entered.\r\nI can ask Ariel next time I see her which one of my two ideas (which are coming after this) she wants:\r\n1) I pass an argument in to the handleContentClicked function that determines the type of the element so it doesn't proc when on certain things or\r\n2) I make a menu in the top left (Honestly I think ultimately this is what I want since the whole flow would make more sense this way) that\r\ngives the option to make changes so that it isn't just the second you click anywhere\r\n\r\n- If I choose number 2 (which I think I will), I will make it so that there's an if else in the render that determines if it's\r\ncontent editable or not\r\n*/"]},"metadata":{},"sourceType":"module"}